<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kategoriensystem Lehrerarbeitszeit EBK Neuss</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            padding: 30px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            max-width: 1100px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #6d1f1f;
            margin-bottom: 8px;
            font-size: 1.8em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1em;
        }
        
        .section-title {
            color: #6d1f1f;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 2px solid #6d1f1f;
            padding-bottom: 5px;
        }
        
        /* Vergleichsbalken */
        .comparison-section {
            margin-bottom: 50px;
        }
        
        .bar-container {
            margin-bottom: 25px;
        }
        
        .bar-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        .bar {
            display: flex;
            height: 70px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
        }
        
        .segment {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: 500;
            transition: all 0.5s ease;
            overflow: hidden;
        }
        
        .segment:hover {
            filter: brightness(1.1);
        }
        
        .seg-unterricht {
            background: #6d1f1f;
        }
        
        .seg-unterrichtsnah {
            background: #8b3232;
        }
        
        .seg-ausserunterrichtlich {
            background: #a84848;
        }
        
        .seg-kat3 {
            background: linear-gradient(135deg, #5a8a5a 0%, #3d6b3d 100%);
        }
        
        .seg-kat4 {
            background: linear-gradient(135deg, #d4763a 0%, #b85c24 100%);
        }
        
        .segment .hours {
            font-size: 1.2em;
            font-weight: 700;
        }
        
        .segment .label {
            font-size: 0.7em;
            opacity: 0.9;
            text-align: center;
            padding: 0 5px;
        }
        
        .total-info {
            text-align: right;
            margin-top: 8px;
            color: #666;
            font-size: 0.9em;
        }
        
        .total-info span {
            font-weight: 700;
            color: #6d1f1f;
        }
        
        /* Interaktiver Bereich */
        .interactive-section {
            margin-top: 50px;
            padding: 30px;
            background: #fafafa;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
        }
        
        .slider-container {
            margin: 20px 0;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .slider-label span {
            font-weight: 600;
            color: #333;
        }
        
        .slider-value {
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1em;
        }
        
        .slider-value-kat3 {
            background: #4a7a4a;
        }
        
        .slider-value-kat4 {
            background: #c45d2d;
        }
        
        input[type="range"] {
            width: 100%;
            height: 12px;
            border-radius: 6px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"].slider-kat3::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #4a7a4a;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }
        
        input[type="range"].slider-kat4::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #c45d2d;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }
        
        input[type="range"].slider-kat3::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #4a7a4a;
            cursor: pointer;
            border: none;
        }
        
        input[type="range"].slider-kat4::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #c45d2d;
            cursor: pointer;
            border: none;
        }
        
        .warning-box {
            display: none;
            margin-top: 10px;
            padding: 12px 15px;
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-left: 4px solid #ffc107;
            border-radius: 6px;
            color: #856404;
            font-size: 0.9em;
        }
        
        .warning-box.show {
            display: block;
        }
        
        .warning-icon {
            margin-right: 8px;
        }
        
        .dynamic-bar-container {
            margin-top: 30px;
        }
        
        .calculation-info {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
        }
        
        .calc-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
        }
        
        .calc-item.unterricht { background: rgba(109, 31, 31, 0.1); border-left: 4px solid #6d1f1f; }
        .calc-item.unterrichtsnah { background: rgba(139, 50, 50, 0.1); border-left: 4px solid #8b3232; }
        .calc-item.ausserunterrichtlich { background: rgba(168, 72, 72, 0.1); border-left: 4px solid #a84848; }
        .calc-item.kat3 { background: rgba(90, 138, 90, 0.1); border-left: 4px solid #5a8a5a; }
        .calc-item.kat4 { background: rgba(212, 118, 58, 0.1); border-left: 4px solid #d4763a; }
        
        .calc-label {
            font-size: 0.8em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .calc-value {
            font-size: 1.4em;
            font-weight: 700;
            color: #333;
        }
        
        /* Kategorien-Übersicht */
        .categories-section {
            margin-top: 50px;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .category-card {
            border-radius: 10px;
            padding: 20px;
            color: white;
            min-height: 250px;
            display: flex;
            flex-direction: column;
        }
        
        .cat1 { background: linear-gradient(135deg, #2e7d9a 0%, #1a5a6e 100%); }
        .cat2 { background: linear-gradient(135deg, #3a8f6e 0%, #2a7055 100%); }
        .cat3 { background: linear-gradient(135deg, #5a8a5a 0%, #3d6b3d 100%); }
        .cat4 { background: linear-gradient(135deg, #d4763a 0%, #b85c24 100%); }
        
        .category-header {
            font-size: 0.85em;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .category-title {
            font-size: 1.05em;
            font-weight: 700;
            margin-bottom: 12px;
            line-height: 1.3;
        }
        
        .category-description {
            font-size: 0.82em;
            line-height: 1.5;
            opacity: 0.95;
            flex-grow: 1;
        }
        
        .category-examples {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.3);
            font-size: 0.78em;
            opacity: 0.9;
        }
        
        .category-examples strong {
            display: block;
            margin-bottom: 5px;
        }
        
        /* Legende */
        .legend {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 30px;
            flex-wrap: wrap;
            padding: 20px;
            background: #f8f8f8;
            border-radius: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        @media (max-width: 900px) {
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .calculation-info {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .categories-grid {
                grid-template-columns: 1fr;
            }
            .calculation-info {
                grid-template-columns: 1fr;
            }
            .bar {
                height: 60px;
            }
            .segment .hours {
                font-size: 1em;
            }
            .segment .label {
                font-size: 0.6em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kategoriensystem der Lehrerarbeitszeit</h1>
        <p class="subtitle">Modell 1886 – EBK Neuss</p>
        
        <!-- Vergleichsbalken -->
        <div class="comparison-section">
            <div class="section-title">Vergleich: Mit und ohne Zusatzaufgaben</div>
            
            <div class="bar-container">
                <div class="bar-label">Lehrkraft ohne Zusatzaufgaben (Kategorie 3 & 4)</div>
                <div class="bar">
                    <div class="segment seg-unterricht" style="width: 40.56%;">
                        <span class="hours">765h</span>
                        <span class="label">Unterricht</span>
                    </div>
                    <div class="segment seg-unterrichtsnah" style="width: 40.56%;">
                        <span class="hours">765h</span>
                        <span class="label">Unterrichtsnah</span>
                    </div>
                    <div class="segment seg-ausserunterrichtlich" style="width: 18.88%;">
                        <span class="hours">356h</span>
                        <span class="label">Außerunterrichtlich</span>
                    </div>
                </div>
                <div class="total-info">Gesamt: <span>1.886 Stunden</span></div>
            </div>
            
            <div class="bar-container">
                <div class="bar-label">Lehrkraft mit 4 Anrechnungsstunden (z.B. Vertretungsplanung)</div>
                <div class="bar">
                    <div class="segment seg-unterricht" style="width: 34.04%;">
                        <span class="hours">642h</span>
                        <span class="label">Unterricht</span>
                    </div>
                    <div class="segment seg-unterrichtsnah" style="width: 34.04%;">
                        <span class="hours">642h</span>
                        <span class="label">Unterrichtsnah</span>
                    </div>
                    <div class="segment seg-ausserunterrichtlich" style="width: 18.88%;">
                        <span class="hours">356h</span>
                        <span class="label">Außerunterrichtlich</span>
                    </div>
                    <div class="segment seg-kat4" style="width: 13.04%;">
                        <span class="hours">246h</span>
                        <span class="label">Kat. 4</span>
                    </div>
                </div>
                <div class="total-info">Gesamt: <span>1.886 Stunden</span></div>
            </div>
        </div>
        
        <!-- Interaktiver Bereich -->
        <div class="interactive-section">
            <div class="section-title">Interaktive Berechnung</div>
            
            <div class="slider-container">
                <div class="slider-label">
                    <span>Kategorie 3 – Funktionsstellen:</span>
                    <span class="slider-value slider-value-kat3" id="sliderValueKat3">0 Std.</span>
                </div>
                <input type="range" class="slider-kat3" id="sliderKat3" min="0" max="6" value="0" step="1">
                <div class="warning-box" id="warningKat3">
                    <span class="warning-icon">⚠️</span>
                    <strong>Hinweis:</strong> Für Funktionsstellen (Kategorie 3) wird in der Regel keine Entlastung in Form von Anrechnungsstunden gewährt. Die Kompensation erfolgt über die Stellenbewertung (Besoldung A14/A15).
                </div>
            </div>
            
            <div class="slider-container">
                <div class="slider-label">
                    <span>Kategorie 4 – Zusätzliche Aufgaben:</span>
                    <span class="slider-value slider-value-kat4" id="sliderValueKat4">0 Std.</span>
                </div>
                <input type="range" class="slider-kat4" id="sliderKat4" min="0" max="12" value="0" step="1">
            </div>
            
            <div class="dynamic-bar-container">
                <div class="bar" id="dynamicBar">
                    <div class="segment seg-unterricht" id="segUnterricht" style="width: 40.56%;">
                        <span class="hours" id="hoursUnterricht">765h</span>
                        <span class="label">Unterricht</span>
                    </div>
                    <div class="segment seg-unterrichtsnah" id="segUnterrichtsnah" style="width: 40.56%;">
                        <span class="hours" id="hoursUnterrichtsnah">765h</span>
                        <span class="label">Unterrichtsnah</span>
                    </div>
                    <div class="segment seg-ausserunterrichtlich" id="segAusserunterrichtlich" style="width: 18.88%;">
                        <span class="hours">356h</span>
                        <span class="label">Außerunterrichtlich</span>
                    </div>
                    <div class="segment seg-kat3" id="segKat3" style="width: 0%; display: none;">
                        <span class="hours" id="hoursKat3">0h</span>
                        <span class="label">Kat. 3</span>
                    </div>
                    <div class="segment seg-kat4" id="segKat4" style="width: 0%; display: none;">
                        <span class="hours" id="hoursKat4">0h</span>
                        <span class="label">Kat. 4</span>
                    </div>
                </div>
            </div>
            
            <div class="calculation-info">
                <div class="calc-item unterricht">
                    <div class="calc-label">Unterricht</div>
                    <div class="calc-value" id="calcUnterricht">765h</div>
                </div>
                <div class="calc-item unterrichtsnah">
                    <div class="calc-label">Unterrichtsnah (Kat. 1)</div>
                    <div class="calc-value" id="calcUnterrichtsnah">765h</div>
                </div>
                <div class="calc-item ausserunterrichtlich">
                    <div class="calc-label">Außerunterrichtlich (Kat. 2)</div>
                    <div class="calc-value">356h</div>
                </div>
                <div class="calc-item kat3">
                    <div class="calc-label">Kategorie 3</div>
                    <div class="calc-value" id="calcKat3">0h</div>
                </div>
                <div class="calc-item kat4">
                    <div class="calc-label">Kategorie 4</div>
                    <div class="calc-value" id="calcKat4">0h</div>
                </div>
            </div>
        </div>
        
        <!-- Kategorien -->
        <div class="categories-section">
            <div class="section-title">Die vier Kategorien im Überblick</div>
            <div class="categories-grid">
                <div class="category-card cat1">
                    <div class="category-header">Kategorie 1</div>
                    <div class="category-title">Unterrichtsnahe Tätigkeiten</div>
                    <div class="category-description">
                        Tätigkeiten, die unmittelbar mit Unterricht zusammenhängen. Sie fallen weg, wenn der Unterricht wegfällt.
                    </div>
                    <div class="category-examples">
                        <strong>Beispiele:</strong>
                        Klassenleitung, Klausurerstellung und -korrektur, Praxisbesuche
                    </div>
                </div>
                
                <div class="category-card cat2">
                    <div class="category-header">Kategorie 2</div>
                    <div class="category-title">Außerunterrichtliche Tätigkeiten (Grundlast)</div>
                    <div class="category-description">
                        Tätigkeiten, die zum Berufsbild gehören und von allen erwartet werden. Als Pauschale im Deputat enthalten.
                    </div>
                    <div class="category-examples">
                        <strong>Beispiele:</strong>
                        Fachkonferenzen, Lehrerkonferenzen, Gottesdienste
                    </div>
                </div>
                
                <div class="category-card cat3">
                    <div class="category-header">Kategorie 3</div>
                    <div class="category-title">Funktionsstellen (A14/A15)</div>
                    <div class="category-description">
                        Formale Beförderungsstellen mit definiertem Aufgabenprofil. Kompensation über Stellenbewertung.
                    </div>
                    <div class="category-examples">
                        <strong>Beispiele:</strong>
                        Bildungsgangleitungen, Europakoordination, Schulprogramm
                    </div>
                </div>
                
                <div class="category-card cat4">
                    <div class="category-header">Kategorie 4</div>
                    <div class="category-title">Zusätzliche Aufgaben</div>
                    <div class="category-description">
                        Aufgaben über die Grundlast hinaus. Rechtfertigen grundsätzlich Entlastung.
                    </div>
                    <div class="category-examples">
                        <strong>Beispiele:</strong>
                        Vertretungsplanung, Lehrerrat, Fachkonferenzvorsitz
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Legende -->
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #6d1f1f;"></div>
                <span>Unterricht</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #8b3232;"></div>
                <span>Unterrichtsnah (Kat. 1)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #a84848;"></div>
                <span>Außerunterrichtlich (Kat. 2)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #5a8a5a;"></div>
                <span>Kat. 3</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #d4763a;"></div>
                <span>Kat. 4</span>
            </div>
        </div>
    </div>
    
    <script>
        const sliderKat3 = document.getElementById('sliderKat3');
        const sliderKat4 = document.getElementById('sliderKat4');
        const sliderValueKat3 = document.getElementById('sliderValueKat3');
        const sliderValueKat4 = document.getElementById('sliderValueKat4');
        const warningKat3 = document.getElementById('warningKat3');
        
        const segUnterricht = document.getElementById('segUnterricht');
        const segUnterrichtsnah = document.getElementById('segUnterrichtsnah');
        const segKat3 = document.getElementById('segKat3');
        const segKat4 = document.getElementById('segKat4');
        
        const hoursUnterricht = document.getElementById('hoursUnterricht');
        const hoursUnterrichtsnah = document.getElementById('hoursUnterrichtsnah');
        const hoursKat3 = document.getElementById('hoursKat3');
        const hoursKat4 = document.getElementById('hoursKat4');
        
        const calcUnterricht = document.getElementById('calcUnterricht');
        const calcUnterrichtsnah = document.getElementById('calcUnterrichtsnah');
        const calcKat3 = document.getElementById('calcKat3');
        const calcKat4 = document.getElementById('calcKat4');
        
        // Konstanten
        const TOTAL_HOURS = 1886;
        const GRUNDLAST = 356;
        const BASE_UNTERRICHT = 765;
        const HOURS_PER_ANRECHNUNG = 61.5;
        
        function updateChart() {
            const kat3Stunden = parseInt(sliderKat3.value);
            const kat4Stunden = parseInt(sliderKat4.value);
            
            sliderValueKat3.textContent = kat3Stunden + ' Std.';
            sliderValueKat4.textContent = kat4Stunden + ' Std.';
            
            // Warnung für Kat. 3 anzeigen/verstecken
            if (kat3Stunden > 0) {
                warningKat3.classList.add('show');
            } else {
                warningKat3.classList.remove('show');
            }
            
            // Berechnung
            const kat3Hours = Math.round(kat3Stunden * HOURS_PER_ANRECHNUNG);
            const kat4Hours = Math.round(kat4Stunden * HOURS_PER_ANRECHNUNG);
            const zusatzHoursTotal = kat3Hours + kat4Hours;
            
            const remainingForTeaching = TOTAL_HOURS - GRUNDLAST - zusatzHoursTotal;
            const unterrichtHours = Math.round(remainingForTeaching / 2);
            const unterrichtsnahHours = remainingForTeaching - unterrichtHours;
            
            // Prozente berechnen
            const unterrichtPercent = (unterrichtHours / TOTAL_HOURS) * 100;
            const unterrichtsnahPercent = (unterrichtsnahHours / TOTAL_HOURS) * 100;
            const grundlastPercent = (GRUNDLAST / TOTAL_HOURS) * 100;
            const kat3Percent = (kat3Hours / TOTAL_HOURS) * 100;
            const kat4Percent = (kat4Hours / TOTAL_HOURS) * 100;
            
            // Balken aktualisieren
            segUnterricht.style.width = unterrichtPercent + '%';
            segUnterrichtsnah.style.width = unterrichtsnahPercent + '%';
            
            if (kat3Stunden > 0) {
                segKat3.style.display = 'flex';
                segKat3.style.width = kat3Percent + '%';
            } else {
                segKat3.style.display = 'none';
                segKat3.style.width = '0%';
            }
            
            if (kat4Stunden > 0) {
                segKat4.style.display = 'flex';
                segKat4.style.width = kat4Percent + '%';
            } else {
                segKat4.style.display = 'none';
                segKat4.style.width = '0%';
            }
            
            // Stunden aktualisieren
            hoursUnterricht.textContent = unterrichtHours + 'h';
            hoursUnterrichtsnah.textContent = unterrichtsnahHours + 'h';
            hoursKat3.textContent = kat3Hours + 'h';
            hoursKat4.textContent = kat4Hours + 'h';
            
            // Berechnungsinfo aktualisieren
            calcUnterricht.textContent = unterrichtHours + 'h';
            calcUnterrichtsnah.textContent = unterrichtsnahHours + 'h';
            calcKat3.textContent = kat3Hours + 'h';
            calcKat4.textContent = kat4Hours + 'h';
        }
        
        sliderKat3.addEventListener('input', updateChart);
        sliderKat4.addEventListener('input', updateChart);
    </script>
</body>
</html>
